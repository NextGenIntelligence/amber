# Copyright (C) 2014 nineties
# $Id: template.ab 2014-04-20 23:05:17 nineties $

#= Template engine =

# Replace symbols `vars...` in template to unique ones using
# `symbol::unique`.
uniquify(template, vars...) := {
    us := vars.map(symbol::unique)
    sbst(x @ Symbol) := {
        i := vars.index(x)
        (i == nil) ? x : us[i]
    }
    template[ sbst ]
}
