
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Features - Amber</title>
  <meta name="author" content="Koichi Nakamura">

  
  <meta name="description" content="Features Feb 7th, 2013 Amber has following characteristics which supports self-extension programming powerfully. In fact, Amber itself is &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nineties.github.com/amber/feature.html">
  <link href="/amber/favicon.png" rel="icon">
  <link href="/amber/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/amber/javascripts/modernizr-2.0.js"></script>
  <script src="/amber/javascripts/ender.js"></script>
  <script src="/amber/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/amber/atom.xml" rel="alternate" title="Amber" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  
      <h1><a href="/amber/">Amber</a></h1>
  
  
    <h2>A Language for High-Level Programming with Self-Extension</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/amber/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nineties.github.com/amber" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  
    <li><a href="/amber/blog">Blog</a></li>
    <li><a href="/amber/feature.html">Feature</a></li>
    <li><a href="/amber/tutorial">Tutorial</a></li>
    <li><a href="/amber/reference">Reference</a></li>
    <li><a href="/amber/implementation">Implementation</a></li>
    <li><a href="/amber/ja//feature.html">日本語</a></li>
  
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Features</h1>
    <p class="meta">








  


<time datetime="2013-02-07T01:37:21+09:00" pubdate data-updated="true">Feb 7<span>th</span>, 2013</time></p>
  </header>
  
  <p>Amber has following characteristics which supports self-extension programming powerfully. In fact, Amber itself is implemented by self-extension from simple core language (Amber Core).</p>

<h2>Scripting Language</h2>

<p>Amber is a dynamic scripting language. You can write programs easily and flexibly, and can run programs instantly without compilation.</p>

<p>Note: I will develop a standard library for changing Amber into static typed language in case that such language is optimal. For example, the next version of Amber&#8217;s virtual machine will be implemented using the library.</p>

<h2>Program = Data</h2>

<p>Amber can treat programs seamlessly as usual data.</p>

<pre><code>amber:1&gt; 1 + 2             # normal expression
=&gt; 3
amber:2&gt; \(1 + 2)          # (quotation) return given expression without evaluation
=&gt; Add{1, 2}
amber:3&gt; `(1 + !(2 + 3))   # (quasi-quotation, unquotation) evaluate unquoted expressions only
=&gt; Add{1, 5}
amber:4&gt; eval( \(1 + 2) )  # evaluate given data as a program
=&gt; 3
</code></pre>

<p>See <a href="reference/quotation.html">Reference/Quotation</a> for details.</p>

<p>Note: The format of outputs is the internal format of expressions. It will be prettified in the next release version.</p>

<h2>First-Class Function</h2>

<p>Amber&#8217;s functions are all first-class objects.
Therefore, you can use them in the same manner as usual data: assigning variables, passing to functions and so on.</p>

<pre><code>amber:1&gt; map(x -&gt; x + 1, [1,2,3,4]) # x -&gt; x + 1 is an anonymous function
=&gt; [2, 3, 4, 5]
</code></pre>

<p>Amber&#8217;s following capabilities make functions powerful program components.</p>

<ul>
<li>Anonymous function</li>
<li>Partial function</li>
<li>Closure</li>
<li>Vertical and Horizontal Composition</li>
</ul>


<p>See <a href="reference/function.html">Reference/Function</a> for details.</p>

<h2>Pattern-Matching</h2>

<p>Amber supports function definitions with pattern-matching as follows.</p>

<pre><code>fib(n) : fib(n-1) + fib(n-2)
fib(0) : 0
fib(1) : 1
puts(fib(20))   # =&gt; 6765
</code></pre>

<p>Note: The latter definitions have higher priority in case of Amber.</p>

<p>You can use more complex patterns and guard clauses.
See <a href="reference/pattern-matching.html">Reference/Pattern-Matching</a> for details.</p>

<h3>Dynamic Pattern-Matching Mechanism</h3>

<p>The most characteristic point of Amber&#8217;s pattern-matching engine is that it supports dynamic modification.
In fact, the example program of <code>fib</code> does not define one function but defines horizontal composition of three functions, and you can composite new function definition to it as follows.</p>

<pre><code>fib(n) : fib(n-1) + fib(n-2)
fib(0) : 0
fib(1) : 1
puts(fib(20))       # =&gt; 6765

{
    fib(0) : 1      # composite new definition only in this block
    puts(fib(20))   # =&gt; 10946
}
</code></pre>

<p>Following picture depicts this mechanism.</p>

<p><img src="images/fib.png" width="500" title="&#34;Dynamic pattern-matching mechanism&#34;" alt="&#34;Dynamic pattern-matching mechanism&#34;"></p>

<p>Note: When no definition matches with given arguments, Amber treats the case as an error. It will be an exception in the next version.
The reason is because Amber emphasizes its convenience over strictness.
It is possible to write a library so as to enable completeness check of patterns.</p>

<h2>Partial Function</h2>

<p>Amber&#8217;s dynamic pattern-matching mechanism is realized by partial functions and their horizontal composition. A &#8220;Partial Function&#8221; is a function which receives limited range of arguments. Every function defined using pattern-matching will be a partial function.</p>

<p>Multiple functions can be composited horizontally.
By composing functions <code>f</code> and <code>g</code> using horizontal-composition operator like <code>f | g</code>, you can create a function which tries <code>f</code> and <code>g</code> in sequence.</p>

<pre><code>amber:1&gt; map(x@Int -&gt; "Int" | x@String -&gt; "String", [1,2,"three"]
=&gt; ["Int", "Int", "String"]
</code></pre>

<p>This mechanism enables us to extend existing functions easily.</p>

<pre><code>amber:1&gt; map(to_s, [1,2,"three"])
=&gt; ["1", "2", "three"]
amber:2&gt; map(x@String -&gt; "String:"+to_s(x) | to_s, [1,2,"three"])   # extend to_s() for strings
=&gt; ["1", "2", "String:three"]
</code></pre>

<p>See <a href="reference/function.html">Reference/Function</a> for details.</p>

<h2>Extensible Parser</h2>

<p>You can replace existing syntaxes or define new syntaxes.
Amber&#8217;s parser has following characteristics.</p>

<ul>
<li>Parsing Expression Grammer (PEG)</li>
<li>Packrat Parsing</li>
<li>Scannerless Parsing</li>
<li>Support Left-Recursion</li>
</ul>


<p>PEG is a simple and expressive syntax either equaling or surpassing LL syntaxes and LR syntaxes. So, you can be sure that almost any kind of languages can be implemented inside Amber.
Following simple example defines C-style single comment syntax.</p>

<pre><code>amber:1&gt; comment [spacesensitive] ::= "//" [^\n]*   # C-style single line comment
=&gt; nil
amber:2&gt; puts("hoge") // Now, you can use the new comment syntax
hoge
=&gt; nil
</code></pre>

<p>See <a href="reference/parser.html">Reference/Parser</a> for details.</p>

<h2>Macros</h2>

<p>You can apply macros to expressions before executing them.
Definitions of macros can be written as <code>pattern =&gt; expression</code> in the default Amber&#8217;s syntax. Expressions match with the <code>pattern</code> will be replaced with the results of <code>expression</code>.</p>

<pre><code>amber:1&gt; x + y =&gt; `((!x + !y) % 10)     # definition of a macro
=&gt; nil
amber:2&gt; 5 + 6
=&gt; 1
</code></pre>

<p>See <a href="reference/macros.html">Reference/Macros</a> for details.</p>

  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2013-02-07T01:37:21+09:00" pubdate data-updated="true">Feb 7<span>th</span>, 2013</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://nineties.github.com/amber/feature.html" data-via="9_ties" data-counturl="http://nineties.github.com/amber/feature.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <ul>
    <li>  中村晃一 (Koichi Nakamura) </li>
    <li> Ph.D. student in Gratuate School of Information Science and Technology at The University of Tokyo </li>
    <li> koichi.nakamur a.t. gmail.com </li>
    <li> <a href="http://twitter.com/9_ties">@9_ties</a></li>
  </ul>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/amber/blog/2013/02/06/updated-development-status/">Updated Development Status</a>
      </li>
    
      <li class="post">
        <a href="/amber/blog/2012/06/14/updated-features/">Updated features</a>
      </li>
    
      <li class="post">
        <a href="/amber/blog/2012/06/12/created-ambers-project-page/">Created Amber's Project Page</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/nineties">@nineties</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'nineties',
            count: 1,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/amber/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("9_ties", 4, false);
    });
  </script>
  <script src="/amber/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/9_ties" class="twitter-follow-button" data-show-count="false">Follow @9_ties</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Koichi Nakamura -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'nineties';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://nineties.github.com/amber/feature.html';
        var disqus_url = 'http://nineties.github.com/amber/feature.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
