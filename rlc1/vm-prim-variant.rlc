;
; rowl - generation 1
; Copyright (C) 2010 nineties
;
; $Id: vm-prim-variant.rlc 2010-10-13 01:00:33 nineties $
;

(import "stdlib")
(import "vm-compile")

(var vm-prim-code `(

(export prim_allocate_variant)
(fun prim_allocate_variant (tag nelem nboxed) (
    (return (allocate_variant tag nelem nboxed))
    ))

(export prim_variant_size)
(fun prim_variant_size (o) (
    (return (variant_size o))
    ))

    ))

(vtable_push)
(compile vm-prim-code)
(vtable_pop)
